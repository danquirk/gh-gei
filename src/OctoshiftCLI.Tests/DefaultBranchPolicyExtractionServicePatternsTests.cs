using System.Linq;using FluentAssertions;using OctoshiftCLI.Models;using OctoshiftCLI.Services;using Xunit;namespace OctoshiftCLI.Tests;public class DefaultBranchPolicyExtractionServicePatternsTests{[Fact]public void Aggregates_Body_Patterns(){var svc=new DefaultBranchPolicyExtractionService();var policies=new[]{new AdoPolicyConfiguration{Type=AdoPolicyType.WorkItemLinking,RegexTemplates=new[]{"(?i)(fixes|closes) #[0-9]+"}},new AdoPolicyConfiguration{Type=AdoPolicyType.CommentResolution,RegexTemplates=new[]{"COMMENT-RESOLUTION"}}};var def=svc.BuildRuleset("main","rs",policies);def.RequiredPullRequestBodyPatterns.OrderBy(x=>x).Should().Equal("(?i)(fixes|closes) #[0-9]+","COMMENT-RESOLUTION");}}